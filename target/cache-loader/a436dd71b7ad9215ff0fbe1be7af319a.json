{"remainingRequest":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\thread-loader\\dist\\cjs.js??ref--4-2!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\ts-loader\\index.js??ref--4-3!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\config\\notification-middleware.ts","dependencies":[{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\config\\notification-middleware.ts","mtime":1587243116428},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\react-hot-loader\\webpack.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgaXNQcm9taXNlLCB0cmFuc2xhdGUgfSBmcm9tICdyZWFjdC1qaGlwc3Rlcic7DQppbXBvcnQgeyB0b2FzdCB9IGZyb20gJ3JlYWN0LXRvYXN0aWZ5JzsNCmNvbnN0IGFkZEVycm9yQWxlcnQgPSAobWVzc2FnZSwga2V5LCBkYXRhKSA9PiB7DQogICAga2V5ID0ga2V5ID8ga2V5IDogbWVzc2FnZTsNCiAgICB0b2FzdC5lcnJvcih0cmFuc2xhdGUoa2V5LCBkYXRhKSk7DQp9Ow0KZXhwb3J0IGRlZmF1bHQgKCkgPT4gbmV4dCA9PiBhY3Rpb24gPT4gew0KICAgIC8vIElmIG5vdCBhIHByb21pc2UsIGNvbnRpbnVlIG9uDQogICAgaWYgKCFpc1Byb21pc2UoYWN0aW9uLnBheWxvYWQpKSB7DQogICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7DQogICAgfQ0KICAgIC8qKg0KICAgICAqDQogICAgICogVGhlIG5vdGlmaWNhdGlvbiBtaWRkbGV3YXJlIHNlcnZlcyB0byBkaXNwYXRjaCB0aGUgaW5pdGlhbCBwZW5kaW5nIHByb21pc2UgdG8NCiAgICAgKiB0aGUgcHJvbWlzZSBtaWRkbGV3YXJlLCBidXQgYWRkcyBhIGB0aGVuYCBhbmQgYGNhdGNoLg0KICAgICAqLw0KICAgIHJldHVybiBuZXh0KGFjdGlvbikNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAoYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEuc3VjY2Vzc01lc3NhZ2UpIHsNCiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYWN0aW9uLm1ldGEuc3VjY2Vzc01lc3NhZ2UpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmFjdGlvbiAmJiByZXNwb25zZS5hY3Rpb24ucGF5bG9hZCAmJiByZXNwb25zZS5hY3Rpb24ucGF5bG9hZC5oZWFkZXJzKSB7DQogICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gcmVzcG9uc2UuYWN0aW9uLnBheWxvYWQuaGVhZGVyczsNCiAgICAgICAgICAgIGxldCBhbGVydCA9IG51bGw7DQogICAgICAgICAgICBsZXQgYWxlcnRQYXJhbXMgPSBudWxsOw0KICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoaGVhZGVycykuZm9yRWFjaCgoW2ssIHZdKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGsudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnYXBwLWFsZXJ0JykpIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQgPSB2Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmIChrLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ2FwcC1wYXJhbXMnKSkgew0KICAgICAgICAgICAgICAgICAgICBhbGVydFBhcmFtcyA9IGRlY29kZVVSSUNvbXBvbmVudCh2LnJlcGxhY2UoL1wrL2csICcgJykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKGFsZXJ0KSB7DQogICAgICAgICAgICAgICAgY29uc3QgYWxlcnRQYXJhbSA9IGFsZXJ0UGFyYW1zOw0KICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3ModHJhbnNsYXRlKGFsZXJ0LCB7IHBhcmFtOiBhbGVydFBhcmFtIH0pKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTsNCiAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICBpZiAoYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEuZXJyb3JNZXNzYWdlKSB7DQogICAgICAgICAgICB0b2FzdC5lcnJvcihhY3Rpb24ubWV0YS5lcnJvck1lc3NhZ2UpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKGVycm9yICYmIGVycm9yLnJlc3BvbnNlKSB7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IDQwMSAmJiAoZXJyb3IubWVzc2FnZSA9PT0gJycgfHwgKGRhdGEgJiYgZGF0YS5wYXRoICYmIGRhdGEucGF0aC5pbmNsdWRlcygnL2FwaS9hY2NvdW50JykpKSkpIHsNCiAgICAgICAgICAgICAgICBsZXQgaTsNCiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3BvbnNlLnN0YXR1cykgew0KICAgICAgICAgICAgICAgICAgICAvLyBjb25uZWN0aW9uIHJlZnVzZWQsIHNlcnZlciBub3QgcmVhY2hhYmxlDQogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVycm9yQWxlcnQoJ1NlcnZlciBub3QgcmVhY2hhYmxlJywgJ2Vycm9yLnNlcnZlci5ub3QucmVhY2hhYmxlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDA6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuZW50cmllcyhyZXNwb25zZS5oZWFkZXJzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvckhlYWRlciA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW50aXR5S2V5ID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMuZm9yRWFjaCgoW2ssIHZdKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGsudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnYXBwLWVycm9yJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JIZWFkZXIgPSB2Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChrLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ2FwcC1wYXJhbXMnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlLZXkgPSB2Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9ySGVhZGVyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50aXR5TmFtZSA9IHRyYW5zbGF0ZSgnZ2xvYmFsLm1lbnUuZW50aXRpZXMuJyArIGVudGl0eUtleSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXJyb3JBbGVydChlcnJvckhlYWRlciwgZXJyb3JIZWFkZXIsIHsgZW50aXR5TmFtZSB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09ICcnICYmIGRhdGEuZmllbGRFcnJvcnMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IGRhdGEuZmllbGRFcnJvcnM7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpZWxkRXJyb3JzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkRXJyb3IgPSBmaWVsZEVycm9yc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsnTWluJywgJ01heCcsICdEZWNpbWFsTWluJywgJ0RlY2ltYWxNYXgnXS5pbmNsdWRlcyhmaWVsZEVycm9yLm1lc3NhZ2UpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9yLm1lc3NhZ2UgPSAnU2l6ZSc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCAnc29tZXRoaW5nWzE0XS5vdGhlcls0XS5pZCcgdG8gJ3NvbWV0aGluZ1tdLm90aGVyW10uaWQnIHNvIHRyYW5zbGF0aW9ucyBjYW4gYmUgd3JpdHRlbiB0byBpdA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRGaWVsZCA9IGZpZWxkRXJyb3IuZmllbGQucmVwbGFjZSgvXFtcZCpcXS9nLCAnW10nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gdHJhbnNsYXRlKGBqaGlwc3RlclNhbXBsZUFwcGxpY2F0aW9uUmVhY3RBcHAuJHtmaWVsZEVycm9yLm9iamVjdE5hbWV9LiR7Y29udmVydGVkRmllbGR9YCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVycm9yQWxlcnQoYEVycm9yIG9uIGZpZWxkICIke2ZpZWxkTmFtZX0iYCwgYGVycm9yLiR7ZmllbGRFcnJvci5tZXNzYWdlfWAsIHsgZmllbGROYW1lIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEgIT09ICcnICYmIGRhdGEubWVzc2FnZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVycm9yQWxlcnQoZGF0YS5tZXNzYWdlLCBkYXRhLm1lc3NhZ2UsIGRhdGEucGFyYW1zKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVycm9yQWxlcnQoZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXNlIDQwNDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVycm9yQWxlcnQoJ05vdCBmb3VuZCcsICdlcnJvci51cmwubm90LmZvdW5kJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSAnJyAmJiBkYXRhLm1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRFcnJvckFsZXJ0KGRhdGEubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRFcnJvckFsZXJ0KGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChlcnJvciAmJiBlcnJvci5jb25maWcgJiYgZXJyb3IuY29uZmlnLnVybCA9PT0gJ2FwaS9hY2NvdW50JyAmJiBlcnJvci5jb25maWcubWV0aG9kID09PSAnZ2V0Jykgew0KICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhlbnRpY2F0aW9uIEVycm9yOiBUcnlpbmcgdG8gYWNjZXNzIHVybCBhcGkvYWNjb3VudCB3aXRoIEdFVC4nKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSB7DQogICAgICAgICAgICB0b2FzdC5lcnJvcihlcnJvci5tZXNzYWdlKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHRvYXN0LmVycm9yKCdVbmtub3duIGVycm9yIScpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7DQogICAgfSk7DQp9Ow0K"},{"version":3,"file":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\config\\notification-middleware.ts","sourceRoot":"","sources":["C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\config\\notification-middleware.ts"],"names":[],"mappings":"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","sourcesContent":["import { isPromise, translate } from 'react-jhipster';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst addErrorAlert = (message, key?, data?) => {\r\n  key = key ? key : message;\r\n  toast.error(translate(key, data));\r\n};\r\nexport default () => next => action => {\r\n  // If not a promise, continue on\r\n  if (!isPromise(action.payload)) {\r\n    return next(action);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * The notification middleware serves to dispatch the initial pending promise to\r\n   * the promise middleware, but adds a `then` and `catch.\r\n   */\r\n  return next(action)\r\n    .then(response => {\r\n      if (action.meta && action.meta.successMessage) {\r\n        toast.success(action.meta.successMessage);\r\n      } else if (response && response.action && response.action.payload && response.action.payload.headers) {\r\n        const headers = response.action.payload.headers;\r\n        let alert: string = null;\r\n        let alertParams: string = null;\r\n        Object.entries(headers).forEach(([k, v]: [string, string]) => {\r\n          if (k.toLowerCase().endsWith('app-alert')) {\r\n            alert = v;\r\n          } else if (k.toLowerCase().endsWith('app-params')) {\r\n            alertParams = decodeURIComponent(v.replace(/\\+/g, ' '));\r\n          }\r\n        });\r\n        if (alert) {\r\n          const alertParam = alertParams;\r\n          toast.success(translate(alert, { param: alertParam }));\r\n        }\r\n      }\r\n      return Promise.resolve(response);\r\n    })\r\n    .catch(error => {\r\n      if (action.meta && action.meta.errorMessage) {\r\n        toast.error(action.meta.errorMessage);\r\n      } else if (error && error.response) {\r\n        const response = error.response;\r\n        const data = response.data;\r\n        if (!(response.status === 401 && (error.message === '' || (data && data.path && data.path.includes('/api/account'))))) {\r\n          let i;\r\n          switch (response.status) {\r\n            // connection refused, server not reachable\r\n            case 0:\r\n              addErrorAlert('Server not reachable', 'error.server.not.reachable');\r\n              break;\r\n\r\n            case 400: {\r\n              const headers = Object.entries(response.headers);\r\n              let errorHeader = null;\r\n              let entityKey = null;\r\n              headers.forEach(([k, v]: [string, string]) => {\r\n                if (k.toLowerCase().endsWith('app-error')) {\r\n                  errorHeader = v;\r\n                } else if (k.toLowerCase().endsWith('app-params')) {\r\n                  entityKey = v;\r\n                }\r\n              });\r\n              if (errorHeader) {\r\n                const entityName = translate('global.menu.entities.' + entityKey);\r\n                addErrorAlert(errorHeader, errorHeader, { entityName });\r\n              } else if (data !== '' && data.fieldErrors) {\r\n                const fieldErrors = data.fieldErrors;\r\n                for (i = 0; i < fieldErrors.length; i++) {\r\n                  const fieldError = fieldErrors[i];\r\n                  if (['Min', 'Max', 'DecimalMin', 'DecimalMax'].includes(fieldError.message)) {\r\n                    fieldError.message = 'Size';\r\n                  }\r\n                  // convert 'something[14].other[4].id' to 'something[].other[].id' so translations can be written to it\r\n                  const convertedField = fieldError.field.replace(/\\[\\d*\\]/g, '[]');\r\n                  const fieldName = translate(`jhipsterSampleApplicationReactApp.${fieldError.objectName}.${convertedField}`);\r\n                  addErrorAlert(`Error on field \"${fieldName}\"`, `error.${fieldError.message}`, { fieldName });\r\n                }\r\n              } else if (data !== '' && data.message) {\r\n                addErrorAlert(data.message, data.message, data.params);\r\n              } else {\r\n                addErrorAlert(data);\r\n              }\r\n              break;\r\n            }\r\n            case 404:\r\n              addErrorAlert('Not found', 'error.url.not.found');\r\n              break;\r\n\r\n            default:\r\n              if (data !== '' && data.message) {\r\n                addErrorAlert(data.message);\r\n              } else {\r\n                addErrorAlert(data);\r\n              }\r\n          }\r\n        }\r\n      } else if (error && error.config && error.config.url === 'api/account' && error.config.method === 'get') {\r\n        /* eslint-disable no-console */\r\n        console.log('Authentication Error: Trying to access url api/account with GET.');\r\n      } else if (error && error.message) {\r\n        toast.error(error.message);\r\n      } else {\r\n        toast.error('Unknown error!');\r\n      }\r\n      return Promise.reject(error);\r\n    });\r\n};\r\n"]}]}