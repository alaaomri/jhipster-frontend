{"remainingRequest":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\thread-loader\\dist\\cjs.js??ref--4-2!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\ts-loader\\index.js??ref--4-3!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\shared\\auth\\private-route.tsx","dependencies":[{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\shared\\auth\\private-route.tsx","mtime":1587243116940},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\react-hot-loader\\webpack.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19yZXN0IH0gZnJvbSAidHNsaWIiOw0KaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsNCmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7DQppbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsNCmltcG9ydCB7IFRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LWpoaXBzdGVyJzsNCmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJ2FwcC9zaGFyZWQvZXJyb3IvZXJyb3ItYm91bmRhcnknOw0KZXhwb3J0IGNvbnN0IFByaXZhdGVSb3V0ZUNvbXBvbmVudCA9IChfYSkgPT4gew0KICAgIHZhciB7IGNvbXBvbmVudDogQ29tcG9uZW50LCBpc0F1dGhlbnRpY2F0ZWQsIHNlc3Npb25IYXNCZWVuRmV0Y2hlZCwgaXNBdXRob3JpemVkLCBoYXNBbnlBdXRob3JpdGllcyA9IFtdIH0gPSBfYSwgcmVzdCA9IF9fcmVzdChfYSwgWyJjb21wb25lbnQiLCAiaXNBdXRoZW50aWNhdGVkIiwgInNlc3Npb25IYXNCZWVuRmV0Y2hlZCIsICJpc0F1dGhvcml6ZWQiLCAiaGFzQW55QXV0aG9yaXRpZXMiXSk7DQogICAgY29uc3QgY2hlY2tBdXRob3JpdGllcyA9IHByb3BzID0+IGlzQXV0aG9yaXplZCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnksIG51bGwsDQogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpKSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbnN1ZmZpY2llbnQtYXV0aG9yaXR5IiB9LA0KICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7IGNsYXNzTmFtZTogImFsZXJ0IGFsZXJ0LWRhbmdlciIgfSwNCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhbnNsYXRlLCB7IGNvbnRlbnRLZXk6ICJlcnJvci5odHRwLjQwMyIgfSwgIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoaXMgcGFnZS4iKSkpKTsNCiAgICBjb25zdCByZW5kZXJSZWRpcmVjdCA9IHByb3BzID0+IHsNCiAgICAgICAgaWYgKCFzZXNzaW9uSGFzQmVlbkZldGNoZWQpIHsNCiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiBpc0F1dGhlbnRpY2F0ZWQgPyAoY2hlY2tBdXRob3JpdGllcyhwcm9wcykpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHsgdG86IHsNCiAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLA0KICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHByb3BzLmxvY2F0aW9uLnNlYXJjaCwNCiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHsgZnJvbTogcHJvcHMubG9jYXRpb24gfQ0KICAgICAgICAgICAgICAgIH0gfSkpOw0KICAgICAgICB9DQogICAgfTsNCiAgICBpZiAoIUNvbXBvbmVudCkNCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGNvbXBvbmVudCBuZWVkcyB0byBiZSBzcGVjaWZpZWQgZm9yIHByaXZhdGUgcm91dGUgZm9yIHBhdGggJHtyZXN0LnBhdGh9YCk7DQogICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUm91dGUsIE9iamVjdC5hc3NpZ24oe30sIHJlc3QsIHsgcmVuZGVyOiByZW5kZXJSZWRpcmVjdCB9KSk7DQp9Ow0KZXhwb3J0IGNvbnN0IGhhc0FueUF1dGhvcml0eSA9IChhdXRob3JpdGllcywgaGFzQW55QXV0aG9yaXRpZXMpID0+IHsNCiAgICBpZiAoYXV0aG9yaXRpZXMgJiYgYXV0aG9yaXRpZXMubGVuZ3RoICE9PSAwKSB7DQogICAgICAgIGlmIChoYXNBbnlBdXRob3JpdGllcy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBoYXNBbnlBdXRob3JpdGllcy5zb21lKGF1dGggPT4gYXV0aG9yaXRpZXMuaW5jbHVkZXMoYXV0aCkpOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQp9Ow0KY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHsgYXV0aGVudGljYXRpb246IHsgaXNBdXRoZW50aWNhdGVkLCBhY2NvdW50LCBzZXNzaW9uSGFzQmVlbkZldGNoZWQgfSB9LCB7IGhhc0FueUF1dGhvcml0aWVzID0gW10gfSkgPT4gKHsNCiAgICBpc0F1dGhlbnRpY2F0ZWQsDQogICAgaXNBdXRob3JpemVkOiBoYXNBbnlBdXRob3JpdHkoYWNjb3VudC5hdXRob3JpdGllcywgaGFzQW55QXV0aG9yaXRpZXMpLA0KICAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZA0KfSk7DQovKioNCiAqIEEgcm91dGUgd3JhcHBlZCBpbiBhbiBhdXRoZW50aWNhdGlvbiBjaGVjayBzbyB0aGF0IHJvdXRpbmcgaGFwcGVucyBvbmx5IHdoZW4geW91IGFyZSBhdXRoZW50aWNhdGVkLg0KICogQWNjZXB0cyBzYW1lIHByb3BzIGFzIFJlYWN0IHJvdXRlciBSb3V0ZS4NCiAqIFRoZSByb3V0ZSBhbHNvIGNoZWNrcyBmb3IgYXV0aG9yaXphdGlvbiBpZiBoYXNBbnlBdXRob3JpdGllcyBpcyBzcGVjaWZpZWQuDQogKi8NCmV4cG9ydCBjb25zdCBQcml2YXRlUm91dGUgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbnVsbCwgbnVsbCwgeyBwdXJlOiBmYWxzZSB9KShQcml2YXRlUm91dGVDb21wb25lbnQpOw0KZXhwb3J0IGRlZmF1bHQgUHJpdmF0ZVJvdXRlOw0K"},{"version":3,"file":"C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\shared\\auth\\private-route.tsx","sourceRoot":"","sources":["C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\alaae\\Desktop\\Jhipster\\Jhipster_react\\jhipster-frontend\\src\\main\\webapp\\app\\shared\\auth\\private-route.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACtC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAc,MAAM,kBAAkB,CAAC;AAC/D,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAE3C,OAAO,aAAa,MAAM,iCAAiC,CAAC;AAQ5D,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,EAOjB,EAAE,EAAE;QAPa,EACpC,SAAS,EAAE,SAAS,EACpB,eAAe,EACf,qBAAqB,EACrB,YAAY,EACZ,iBAAiB,GAAG,EAAE,OAEH,EADnB,iHAAO;IAEP,MAAM,gBAAgB,GAAG,KAAK,CAAC,EAAE,CAC/B,YAAY,CAAC,CAAC,CAAC,CACb,oBAAC,aAAa;QACZ,oBAAC,SAAS,oBAAK,KAAK,EAAI,CACV,CACjB,CAAC,CAAC,CAAC,CACF,6BAAK,SAAS,EAAC,wBAAwB;QACrC,6BAAK,SAAS,EAAC,oBAAoB;YACjC,oBAAC,SAAS,IAAC,UAAU,EAAC,gBAAgB,kDAAwD,CAC1F,CACF,CACP,CAAC;IAEJ,MAAM,cAAc,GAAG,KAAK,CAAC,EAAE;QAC7B,IAAI,CAAC,qBAAqB,EAAE;YAC1B,OAAO,gCAAW,CAAC;SACpB;aAAM;YACL,OAAO,eAAe,CAAC,CAAC,CAAC,CACvB,gBAAgB,CAAC,KAAK,CAAC,CACxB,CAAC,CAAC,CAAC,CACF,oBAAC,QAAQ,IACP,EAAE,EAAE;oBACF,QAAQ,EAAE,QAAQ;oBAClB,MAAM,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM;oBAC7B,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE;iBAChC,GACD,CACH,CAAC;SACH;IACH,CAAC,CAAC;IAEF,IAAI,CAAC,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,gEAAiE,IAAY,CAAC,IAAI,EAAE,CAAC,CAAC;IAEtH,OAAO,oBAAC,KAAK,oBAAK,IAAI,IAAE,MAAM,EAAE,cAAc,IAAI,CAAC;AACrD,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,WAAqB,EAAE,iBAA2B,EAAE,EAAE;IACpF,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;QAC3C,IAAI,iBAAiB,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,OAAO,IAAI,CAAC;SACb;QACD,OAAO,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;KACnE;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG,CACtB,EAAE,cAAc,EAAE,EAAE,eAAe,EAAE,OAAO,EAAE,qBAAqB,EAAE,EAAc,EACnF,EAAE,iBAAiB,GAAG,EAAE,EAAa,EACrC,EAAE,CAAC,CAAC;IACJ,eAAe;IACf,YAAY,EAAE,eAAe,CAAC,OAAO,CAAC,WAAW,EAAE,iBAAiB,CAAC;IACrE,qBAAqB;CACtB,CAAC,CAAC;AAIH;;;;GAIG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG,OAAO,CAAmC,eAAe,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC;AAE3I,eAAe,YAAY,CAAC","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\r\nimport { Translate } from 'react-jhipster';\r\nimport { IRootState } from 'app/shared/reducers';\r\nimport ErrorBoundary from 'app/shared/error/error-boundary';\r\n\r\ninterface IOwnProps extends RouteProps {\r\n  hasAnyAuthorities?: string[];\r\n}\r\n\r\nexport interface IPrivateRouteProps extends IOwnProps, StateProps {}\r\n\r\nexport const PrivateRouteComponent = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  sessionHasBeenFetched,\r\n  isAuthorized,\r\n  hasAnyAuthorities = [],\r\n  ...rest\r\n}: IPrivateRouteProps) => {\r\n  const checkAuthorities = props =>\r\n    isAuthorized ? (\r\n      <ErrorBoundary>\r\n        <Component {...props} />\r\n      </ErrorBoundary>\r\n    ) : (\r\n      <div className=\"insufficient-authority\">\r\n        <div className=\"alert alert-danger\">\r\n          <Translate contentKey=\"error.http.403\">You are not authorized to access this page.</Translate>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  const renderRedirect = props => {\r\n    if (!sessionHasBeenFetched) {\r\n      return <div></div>;\r\n    } else {\r\n      return isAuthenticated ? (\r\n        checkAuthorities(props)\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/login',\r\n            search: props.location.search,\r\n            state: { from: props.location }\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  if (!Component) throw new Error(`A component needs to be specified for private route for path ${(rest as any).path}`);\r\n\r\n  return <Route {...rest} render={renderRedirect} />;\r\n};\r\n\r\nexport const hasAnyAuthority = (authorities: string[], hasAnyAuthorities: string[]) => {\r\n  if (authorities && authorities.length !== 0) {\r\n    if (hasAnyAuthorities.length === 0) {\r\n      return true;\r\n    }\r\n    return hasAnyAuthorities.some(auth => authorities.includes(auth));\r\n  }\r\n  return false;\r\n};\r\n\r\nconst mapStateToProps = (\r\n  { authentication: { isAuthenticated, account, sessionHasBeenFetched } }: IRootState,\r\n  { hasAnyAuthorities = [] }: IOwnProps\r\n) => ({\r\n  isAuthenticated,\r\n  isAuthorized: hasAnyAuthority(account.authorities, hasAnyAuthorities),\r\n  sessionHasBeenFetched\r\n});\r\n\r\ntype StateProps = ReturnType<typeof mapStateToProps>;\r\n\r\n/**\r\n * A route wrapped in an authentication check so that routing happens only when you are authenticated.\r\n * Accepts same props as React router Route.\r\n * The route also checks for authorization if hasAnyAuthorities is specified.\r\n */\r\nexport const PrivateRoute = connect<StateProps, undefined, IOwnProps>(mapStateToProps, null, null, { pure: false })(PrivateRouteComponent);\r\n\r\nexport default PrivateRoute;\r\n"]}]}